import{r as s,u as f,j as t}from"./index-C8c5mJkW.js";import{F as v,G as x,P as j}from"./pagesStyles-CFhbzBaL.js";const R=()=>{const[P,m]=s.useState([]),[c,l]=s.useState(null),[i,u]=s.useState(0),[g,S]=f(),r=g.get("query"),o=parseInt(g.get("page")||"1",10),p=s.useCallback(async(a,n)=>{const h=new v,e=n?await h.getSearch(n,a):await h.getTrending(a);e&&e.results&&(n?(l(e.results),u(e.total_pages)):(m(e.results.slice(0,20)),u(e.total_pages/2),l(null)))},[]);s.useEffect(()=>{p(o,r||void 0)},[o,r,p]);const d=a=>{S({query:r||"",page:a.toString()})};return t.jsxs("div",{children:[t.jsx("h2",{className:"pageHeaderStyle",children:c?"Search Results":"Popular Movies"}),t.jsx(x,{movies:c||P}),i>1&&t.jsx(j,{currentPage:o,totalPages:i,onPageChange:d})]})};export{R as default};
