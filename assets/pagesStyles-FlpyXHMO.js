import{j as e,B as v,a as S,r as o,b as $,c as j,d as I,e as R,I as G,F as _,i as Q,f as T}from"./index-Bwo9tAWB.js";const C="/FILMOTEKATS/assets/no-poster-BEy-we19.jpg",F="TiQET7NwpRM-",L="ev-yzTZIAQQ-",H="qX1AmtF2GZA-",O="yarUp4eQxVA-",y={mainContainer:F,pageHeader:L,gallery:H,movieItem:O},X="xMgdodv6oIQ-",U="E0XvUFEJMN4-",J="_7VwLGAdO7-g-",Y={mainContainer:X,pageHeader:U,buttonContainer:J},Z=({inQueue:s,inWatched:n,onAddToQueue:d,onRemoveFromQueue:p,onAddToWatched:t,onRemoveFromWatched:i,moveToWatched:l,movie:m})=>e.jsxs("div",{className:Y.buttonContainer,children:[e.jsx(v,{onClick:s?()=>p(m):()=>d(m),label:s?"Remove from Queue":"Add to Queue",variant:"primary"}),s?e.jsx(v,{onClick:()=>l(m),label:"Move to Watched",variant:"secondary"}):n?e.jsx(v,{onClick:()=>i(m),label:"Remove from Watched",variant:"secondary"}):e.jsx(v,{onClick:()=>t(m),label:"Add to Watched",variant:"secondary"})]}),q="AQ2SzruNOFU-",z="K4pmIBfYC5g-",K="geuWJb6qxgk-",P="UbEZXtmuucI-",ee="xaP8AUvUJL8-",se="_1y4q5ApGJ-I-",te="c8-fQ-rF31M-",ne="a8n9dhRf--Y-",ae="c3YEXwYvjCk-",ie="hm-kmIoWabY-",oe="IEy1A2WHqHM-",le="TV5nmG39BIU-",ce="Vvkiku2-J7A-",re="ljguWA9Npuw-",de="DOvjIyuXrKM-",me="iVre5Z9g5cw-",ue="wzIJjIuAd9M-",ve="USjtrVtHRi8-",pe="WnlWxXDAoXs-",he="tk0LywjYWQE-",ge="Ruk6ZzAt-gM-",a={mainContainer:q,pageHeader:z,modalOverlay:K,modalContent:P,closeButton:ee,movieDetails:se,moviePoster:te,movieInfo:ne,movieTitle:ae,movieGenres:ie,movieOverview:oe,movieReleaseDate:le,movieVoteAverage:ce,movieVoteCount:re,movieLanguages:de,adultIcon:me,moreInfoButton:ue,additionalDetails:ve,detailsVisible:pe,detailItem:he,imdbLink:ge},xe=({movie:s,onClose:n})=>{const{genres:d,fetchGenres:p}=S(),[t,i]=o.useState(null),[l,m]=o.useState([]),[f,c]=o.useState(!1),[k,x]=o.useState(!1),[b,N]=o.useState(!1),M=o.useRef(null);o.useEffect(()=>{(async()=>{const h=new _;try{const u=await h.getMovieDetails(s.id);u?(i(u),c(Q(u)),x(T(u))):i(null)}catch(u){console.error("Failed to fetch movie details:",u),i(null)}})()},[s.id]),o.useEffect(()=>{d.length===0&&p()},[p,d.length]),o.useEffect(()=>{if(t){const r=t.genres.map(h=>h.name);m(r)}},[t,d]);const A=r=>{r.target===r.currentTarget&&n()};o.useEffect(()=>{const r=h=>{h.key==="Escape"&&n()};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[n]);const V=o.useCallback(()=>{$(s),c(!0)},[s]),B=o.useCallback(()=>{j(s),c(!1)},[s]),w=o.useCallback(()=>{I(s),x(!0)},[s]),E=o.useCallback(()=>{R(s),x(!1)},[s]),D=o.useCallback(()=>{j(s),I(s),c(!1),x(!0)},[s]),W=r=>{const h=Math.floor(r/60),u=r%60;return`${h}h ${u}min`};return t?e.jsx("div",{className:a.modalOverlay,onClick:A,children:e.jsxs("div",{className:a.modalContent,children:[e.jsx("button",{className:a.closeButton,onClick:n,children:"X"}),e.jsxs("div",{className:a.movieDetails,children:[e.jsx("img",{src:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:C,alt:t.title,className:a.moviePoster}),e.jsxs("div",{className:a.movieInfo,children:[e.jsxs("h2",{className:a.movieTitle,children:[t.title,t.adult&&e.jsx(G,{src:"/images/icons/18-icon.svg",className:a.adultIcon})]}),l.length>0&&e.jsxs("p",{className:a.movieGenres,children:["Genres: ",l.join(", ")]}),e.jsx("p",{className:a.movieOverview,children:t.overview}),t.vote_average>0&&e.jsxs("p",{className:a.movieVoteAverage,children:["Rating: ",t.vote_average.toFixed(1)]}),e.jsx(v,{onClick:()=>N(!b),label:b?"Show Less":"More Info",variant:"tertiary",className:a.moreInfoButton}),e.jsxs("div",{className:`${a.additionalDetails} ${b?a.detailsVisible:""}`,ref:M,children:[t.vote_count>0&&e.jsxs("p",{className:a.detailItem,children:["Votes: ",t.vote_count]}),t.release_date!==""&&e.jsxs("p",{className:a.detailItem,children:["Release Date: ",t.release_date]}),t.spoken_languages.length>0&&e.jsxs("p",{className:a.detailItem,children:["Spoken Languages:"," ",t.spoken_languages.map(r=>r.english_name).join(", ")]}),t.budget>0&&e.jsxs("p",{className:a.detailItem,children:["Budget: $",t.budget.toLocaleString()]}),t.runtime!==null&&t.runtime>0&&e.jsxs("p",{className:a.detailItem,children:["Runtime: ",W(t.runtime)]}),e.jsx("a",{href:`https://www.imdb.com/title/${t.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:a.imdbLink,children:"View on IMDb"})]}),e.jsx(Z,{inQueue:f,inWatched:k,onAddToQueue:V,onRemoveFromQueue:B,onAddToWatched:w,onRemoveFromWatched:E,moveToWatched:D,movie:s})]})]})]})}):null},Ne=({movies:s})=>{const[n,d]=o.useState(null),p=i=>{d(i)},t=()=>{d(null)};return e.jsxs("div",{children:[e.jsx("div",{className:y.gallery,children:s.length>0?s.map(i=>e.jsxs("div",{className:y.movieItem,onClick:()=>p(i),children:[e.jsx("img",{src:i.poster_path?`https://image.tmdb.org/t/p/w500${i.poster_path}`:C,alt:i.title}),e.jsx("h3",{children:i.title})]},i.id)):e.jsx("p",{children:"No movies available"})}),n&&e.jsx(xe,{movie:n,onClose:t})]})},fe="EGW9NA09894-",be="UY8Js3PSGss-",je="Kih79lZSCaA-",Ie="Nr-hbfVGqyk-",ye="FX5xlHxVgpM-",Ce="HaWxa8zR-Xw-",g={mainContainer:fe,pageHeader:be,pagination:je,paginationButton:Ie,paginationActive:ye,paginationEllipsis:Ce},Me=({currentPage:s,totalPages:n,onPageChange:d})=>{const t=l=>{l>=1&&l<=n&&d(l)},i=()=>{const l=[];l.push(e.jsx(v,{onClick:()=>t(1),label:"1",disabled:s===1,variant:s===1?"primary":"secondary",className:g.paginationButton},1)),s>6&&n>5&&l.push(e.jsx("span",{className:g.paginationEllipsis,children:"..."},"start-ellipsis"));const m=Math.max(2,s-4),f=Math.min(n-1,s+4);for(let c=m;c<=f;c++)l.push(e.jsx(v,{onClick:()=>t(c),label:c.toString(),disabled:c===s,variant:c===s?"primary":"secondary",className:`${g.paginationButton} ${c===s?g.paginationActive:""}`},c));return s<n-4-1&&n>5&&l.push(e.jsx("span",{className:g.paginationEllipsis,children:"..."},"end-ellipsis")),n>1&&l.push(e.jsx(v,{onClick:()=>t(n),label:n.toString(),disabled:s===n,variant:s===n?"primary":"secondary",className:g.paginationButton},n)),l};return e.jsx("div",{className:g.pagination,children:i()})};export{Ne as G,Me as P};
