import{j as s,B as v,r as c,b as B,c as j,d as b,e as _,I as E,F as W,i as D,f as $}from"./index-DiPBpbB5.js";const I="/FILMOTEKATS/assets/no-poster-BEy-we19.jpg",R="TiQET7NwpRM-",L="ev-yzTZIAQQ-",S="qX1AmtF2GZA-",T="yarUp4eQxVA-",f={mainContainer:R,pageHeader:L,gallery:S,movieItem:T},F="xMgdodv6oIQ-",Q="E0XvUFEJMN4-",G="_7VwLGAdO7-g-",H={mainContainer:F,pageHeader:Q,buttonContainer:G},O=({inQueue:n,inWatched:a,onAddToQueue:e,onRemoveFromQueue:u,onAddToWatched:m,onRemoveFromWatched:i,moveToWatched:l,movie:r})=>s.jsxs("div",{className:H.buttonContainer,children:[s.jsx(v,{onClick:n?()=>u(r):()=>e(r),label:n?"Remove from Queue":"Add to Queue",variant:"primary"}),n?s.jsx(v,{onClick:()=>l(r),label:"Move to Watched",variant:"secondary"}):a?s.jsx(v,{onClick:()=>i(r),label:"Remove from Watched",variant:"secondary"}):s.jsx(v,{onClick:()=>m(r),label:"Add to Watched",variant:"secondary"})]}),X="AQ2SzruNOFU-",U="K4pmIBfYC5g-",Y="geuWJb6qxgk-",J="UbEZXtmuucI-",K="xaP8AUvUJL8-",Z="_1y4q5ApGJ-I-",q="c8-fQ-rF31M-",z="a8n9dhRf--Y-",P="c3YEXwYvjCk-",ee="hm-kmIoWabY-",se="IEy1A2WHqHM-",te="TV5nmG39BIU-",ne="Vvkiku2-J7A-",ae="ljguWA9Npuw-",ie="DOvjIyuXrKM-",oe="iVre5Z9g5cw-",le="wzIJjIuAd9M-",ce="USjtrVtHRi8-",re="WnlWxXDAoXs-",de="tk0LywjYWQE-",me="Ruk6ZzAt-gM-",ue="wUhOoxTRXWY-",t={mainContainer:X,pageHeader:U,modalOverlay:Y,modalContent:J,closeButton:K,movieDetails:Z,moviePoster:q,movieInfo:z,movieTitle:P,movieGenres:ee,movieOverview:se,movieReleaseDate:te,movieVoteAverage:ne,movieVoteCount:ae,movieLanguages:ie,adultIcon:oe,moreInfoButton:le,additionalDetails:ce,detailsVisible:re,detailItem:de,imdbLink:me,homepageLink:ue},pe=({movieId:n,onClose:a})=>{const[e,u]=c.useState(null),[m,i]=c.useState(!1),[l,r]=c.useState(!1),[g,d]=c.useState(!1),k=c.useRef(null);c.useEffect(()=>{(async()=>{const x=new W;try{const p=await x.getMovieDetails(n);p?(u(p),i(D(p)),r($(p))):u(null)}catch(p){console.error("Failed to fetch movie details:",p),u(null)}})()},[n]);const C=o=>{o.target===o.currentTarget&&a()};c.useEffect(()=>{const o=x=>{x.key==="Escape"&&a()};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[a]);const N=c.useCallback(()=>{e&&(B(e),i(!0))},[e]),y=c.useCallback(()=>{e&&(j(e),i(!1))},[e]),M=c.useCallback(()=>{e&&(b(e),r(!0))},[e]),A=c.useCallback(()=>{e&&(_(e),r(!1))},[e]),V=c.useCallback(()=>{e&&(j(e),b(e),i(!1),r(!0))},[e]),w=o=>{const x=Math.floor(o/60),p=o%60;return`${x}h ${p}min`};return e?s.jsx("div",{className:t.modalOverlay,onClick:C,children:s.jsxs("div",{className:t.modalContent,children:[s.jsx("button",{className:t.closeButton,onClick:a,children:"X"}),s.jsxs("div",{className:t.movieDetails,children:[s.jsx("img",{src:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:I,alt:e.title,className:t.moviePoster}),s.jsxs("div",{className:t.movieInfo,children:[s.jsxs("h2",{className:t.movieTitle,children:[e.title,e.adult&&s.jsx(E,{src:"/FILMOTEKATS/images/icons/18-icon.svg",className:t.adultIcon})]}),e.genres.length>0&&s.jsxs("p",{className:t.movieGenres,children:["Genres: ",e.genres.map(o=>o.name).join(", ")]}),s.jsx("p",{className:t.movieOverview,children:e.overview}),e.vote_average>0&&s.jsxs("p",{className:t.movieVoteAverage,children:["Rating: ",e.vote_average.toFixed(1)]}),s.jsx(v,{onClick:()=>d(!g),label:g?"Show Less":"More Info",variant:"tertiary",className:t.moreInfoButton}),s.jsxs("div",{className:`${t.additionalDetails} ${g?t.detailsVisible:""}`,ref:k,children:[e.vote_count>0&&s.jsxs("p",{className:t.detailItem,children:["Votes: ",e.vote_count]}),e.release_date!==""&&s.jsxs("p",{className:t.detailItem,children:["Release Date: ",e.release_date]}),e.spoken_languages.length>0&&s.jsxs("p",{className:t.detailItem,children:["Spoken Languages:"," ",e.spoken_languages.map(o=>o.english_name).join(", ")]}),e.budget>0&&s.jsxs("p",{className:t.detailItem,children:["Budget: $",e.budget.toLocaleString()]}),e.runtime!==null&&e.runtime>0&&s.jsxs("p",{className:t.detailItem,children:["Runtime: ",w(e.runtime)]}),e.production_countries.length>0&&s.jsxs("p",{className:t.detailItem,children:["Production Countries:"," ",e.production_countries.map(o=>o.name).join(", ")]}),e.production_companies.length>0&&s.jsxs("p",{className:t.detailItem,children:["Production Companies:"," ",e.production_companies.map(o=>o.name).join(", ")]}),e.imdb_id!==null&&s.jsx("a",{href:`https://www.imdb.com/title/${e.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:t.imdbLink,children:"View on IMDb"}),s.jsx("br",{}),e.homepage!==""&&s.jsx("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer",className:t.homepageLink,children:"Visit Website"})]}),s.jsx(O,{inQueue:m,inWatched:l,onAddToQueue:N,onRemoveFromQueue:y,onAddToWatched:M,onRemoveFromWatched:A,moveToWatched:V,movie:e})]})]})]})}):null},Ie=({movies:n})=>{const[a,e]=c.useState(null),u=i=>{e(i)},m=()=>{e(null)};return s.jsxs("div",{children:[s.jsx("div",{className:f.gallery,children:n.length>0?n.map(i=>s.jsxs("div",{className:f.movieItem,onClick:()=>u(i.id),children:[s.jsx("img",{src:i.poster_path?`https://image.tmdb.org/t/p/w500${i.poster_path}`:I,alt:i.title}),s.jsx("h3",{children:i.title})]},i.id)):s.jsx("p",{children:"No movies available"})}),a&&s.jsx(pe,{movieId:a,onClose:m})]})},ve="EGW9NA09894-",he="UY8Js3PSGss-",ge="Kih79lZSCaA-",xe="Nr-hbfVGqyk-",je="FX5xlHxVgpM-",be="HaWxa8zR-Xw-",h={mainContainer:ve,pageHeader:he,pagination:ge,paginationButton:xe,paginationActive:je,paginationEllipsis:be},ke=({currentPage:n,totalPages:a,onPageChange:e})=>{const m=l=>{l>=1&&l<=a&&e(l)},i=()=>{const l=[];l.push(s.jsx(v,{onClick:()=>m(1),label:"1",disabled:n===1,variant:n===1?"primary":"secondary",className:h.paginationButton},1)),n>6&&a>5&&l.push(s.jsx("span",{className:h.paginationEllipsis,children:"..."},"start-ellipsis"));const r=Math.max(2,n-4),g=Math.min(a-1,n+4);for(let d=r;d<=g;d++)l.push(s.jsx(v,{onClick:()=>m(d),label:d.toString(),disabled:d===n,variant:d===n?"primary":"secondary",className:`${h.paginationButton} ${d===n?h.paginationActive:""}`},d));return n<a-4-1&&a>5&&l.push(s.jsx("span",{className:h.paginationEllipsis,children:"..."},"end-ellipsis")),a>1&&l.push(s.jsx(v,{onClick:()=>m(a),label:a.toString(),disabled:n===a,variant:n===a?"primary":"secondary",className:h.paginationButton},a)),l};return s.jsx("div",{className:h.pagination,children:i()})};export{Ie as G,ke as P};
